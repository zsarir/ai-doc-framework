---
layout: default
title: "Search - AI Documentation Framework"
description: "Search through guides, examples, API references, and troubleshooting content"
keywords: "search, documentation, AI framework, find, lookup"
author: "Mobin Zarekar"
highlight: true
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search - AI Documentation Framework</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../{{ "/assets/css/style.css" | relative_url }}">
    <style>
        .search-hero {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
            margin-top: 70px;
        }

        .search-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .search-hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .search-input-wrapper {
            position: relative;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1.2rem 1.5rem;
            border: 3px solid transparent;
            border-radius: var(--border-radius-lg);
            font-size: 1.2rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: var(--bg-primary);
            box-shadow: var(--shadow-xl);
        }

        .search-icon {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .search-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
            justify-content: center;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            background: var(--bg-secondary);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .filter-btn:hover,
        .filter-btn.active {
            border-color: var(--primary-color);
            color: var(--primary-color);
            background: rgba(59, 130, 246, 0.1);
        }

        .search-results {
            background: var(--bg-primary);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .search-result-item {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
            cursor: pointer;
        }

        .search-result-item:hover {
            background: var(--bg-secondary);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .result-icon {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .result-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .result-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .result-category {
            background: var(--bg-tertiary);
            padding: 0.25rem 0.75rem;
            border-radius: var(--border-radius);
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .result-relevance {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .result-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .result-highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .highlight {
            background: #fef3c7;
            color: #92400e;
            padding: 0.25rem 0.5rem;
            border-radius: var(--border-radius);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .no-results-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .search-suggestions {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .suggestions-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .suggestions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .suggestion-item {
            background: var(--bg-primary);
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .suggestion-item:hover {
            border-color: var(--primary-color);
            background: rgba(59, 130, 246, 0.05);
        }

        .suggestion-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .suggestion-text {
            font-weight: 500;
            color: var(--text-primary);
        }

        .search-tips {
            background: var(--bg-tertiary);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .tips-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .tips-list {
            list-style: none;
            padding: 0;
        }

        .tips-list li {
            padding: 0.75rem 0;
            padding-left: 2rem;
            position: relative;
            color: var(--text-secondary);
        }

        .tips-list li::before {
            content: "ðŸ’¡";
            position: absolute;
            left: 0;
        }

        .search-analytics {
            background: var(--bg-primary);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: var(--shadow);
        }

        .analytics-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .analytics-item {
            text-align: center;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }

        .analytics-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .analytics-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .recent-searches {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .recent-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .recent-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .recent-tag {
            background: var(--primary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .recent-tag:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .search-shortcuts {
            background: var(--bg-primary);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .shortcuts-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .shortcuts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .shortcut-item {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }

        .shortcut-key {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .shortcut-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .search-hero h1 {
                font-size: 2rem;
            }

            .search-input {
                font-size: 1rem;
                padding: 1rem 1.2rem;
            }

            .search-filters {
                justify-content: flex-start;
            }

            .suggestions-grid,
            .analytics-grid,
            .shortcuts-grid {
                grid-template-columns: 1fr;
            }

            .recent-tags {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-brand">
                <i class="fas fa-robot"></i>
                <span>AI Doc Framework</span>
            </div>
            <div class="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="guides/installation.html" class="nav-link">Installation</a>
                <a href="guides/usage.html" class="nav-link">Usage</a>
                <a href="#search" class="nav-link active">Search</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="search-hero">
        <div class="container">
            <h1><i class="fas fa-search"></i> Search Documentation</h1>
            <p>Find exactly what you need with our powerful search system. Search through guides, examples, API references, and troubleshooting content.</p>
        </div>
    </section>

    <!-- Search Interface -->
    <section class="section">
        <div class="container">
            <div class="search-container">
                <!-- Search Input -->
                <div class="search-input-wrapper">
                    <input type="text" class="search-input" placeholder="Search for guides, features, examples, troubleshooting..." id="searchInput">
                    <i class="fas fa-search search-icon"></i>
                </div>

                <!-- Search Filters -->
                <div class="search-filters">
                    <button class="filter-btn active" data-filter="all">All Content</button>
                    <button class="filter-btn" data-filter="guides">Guides</button>
                    <button class="filter-btn" data-filter="examples">Examples</button>
                    <button class="filter-btn" data-filter="api">API & Features</button>
                    <button class="filter-btn" data-filter="troubleshooting">Troubleshooting</button>
                    <button class="filter-btn" data-filter="visual">Visual Components</button>
                </div>

                <!-- Loading Spinner -->
                <div class="loading-spinner" id="loadingSpinner">
                    <div class="spinner"></div>
                    <p>Searching documentation...</p>
                </div>

                <!-- Search Results -->
                <div class="search-results" id="searchResults">
                    <div class="no-results">
                        <div class="no-results-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Start typing to search</h3>
                        <p>Enter your search query above to find relevant documentation, guides, and examples.</p>
                    </div>
                </div>

                <!-- Search Analytics -->
                <div class="search-analytics" id="searchAnalytics" style="display: none;">
                    <h3 class="analytics-title">Search Analytics</h3>
                    <div class="analytics-grid">
                        <div class="analytics-item">
                            <div class="analytics-value" id="totalResults">0</div>
                            <div class="analytics-label">Results Found</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value" id="searchTime">0ms</div>
                            <div class="analytics-label">Search Time</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value" id="relevanceScore">0%</div>
                            <div class="analytics-label">Avg Relevance</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value" id="categoriesFound">0</div>
                            <div class="analytics-label">Categories</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Search Suggestions -->
    <section class="section">
        <div class="container">
            <div class="search-suggestions">
                <h3 class="suggestions-title">Popular Search Terms</h3>
                <div class="suggestions-grid">
                    <div class="suggestion-item" onclick="searchTerm('installation')">
                        <div class="suggestion-icon">
                            <i class="fas fa-download"></i>
                        </div>
                        <div class="suggestion-text">Installation</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('single application')">
                        <div class="suggestion-icon">
                            <i class="fas fa-cube"></i>
                        </div>
                        <div class="suggestion-text">Single Application</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('multi application')">
                        <div class="suggestion-icon">
                            <i class="fas fa-cubes"></i>
                        </div>
                        <div class="suggestion-text">Multi Application</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('API reference')">
                        <div class="suggestion-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="suggestion-text">API Reference</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('troubleshooting')">
                        <div class="suggestion-icon">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="suggestion-text">Troubleshooting</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('performance optimization')">
                        <div class="suggestion-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div class="suggestion-text">Performance</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('error management')">
                        <div class="suggestion-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="suggestion-text">Error Management</div>
                    </div>
                    <div class="suggestion-item" onclick="searchTerm('customization')">
                        <div class="suggestion-icon">
                            <i class="fas fa-puzzle-piece"></i>
                        </div>
                        <div class="suggestion-text">Customization</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recent Searches -->
    <section class="section">
        <div class="container">
            <div class="recent-searches">
                <h3 class="recent-title">Recent Searches</h3>
                <div class="recent-tags" id="recentSearches">
                    <!-- Recent searches will be populated here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Search Tips -->
    <section class="section">
        <div class="container">
            <div class="search-tips">
                <h3 class="tips-title">Search Tips & Tricks</h3>
                <ul class="tips-list">
                    <li>Use specific keywords like "installation", "API", or "troubleshooting" for better results</li>
                    <li>Search for feature names like "error management" or "issue tracking" to find specific documentation</li>
                    <li>Try searching for file names like "AI_RULES.md" or "START_TASK.md" to find protocol documentation</li>
                    <li>Use multiple words to narrow down results, for example "single application setup"</li>
                    <li>Search for error messages or symptoms to find troubleshooting guides</li>
                    <li>Look for specific technologies like "React", "FastAPI", or "Docker" to find integration guides</li>
                    <li>Use the filter buttons to search within specific content categories</li>
                    <li>Popular search terms are highlighted for quick access</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Search Shortcuts -->
    <section class="section">
        <div class="container">
            <div class="search-shortcuts">
                <h3 class="shortcuts-title">Keyboard Shortcuts</h3>
                <div class="shortcuts-grid">
                    <div class="shortcut-item">
                        <span class="shortcut-key">Ctrl+K</span>
                        <span class="shortcut-description">Focus search input</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Esc</span>
                        <span class="shortcut-description">Clear search and highlights</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Enter</span>
                        <span class="shortcut-description">Execute search</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Tab</span>
                        <span class="shortcut-description">Navigate through filters</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">â†‘â†“</span>
                        <span class="shortcut-description">Navigate search results</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Alt+1-6</span>
                        <span class="shortcut-description">Quick filter selection</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script src="../{{ "/assets/js/main.js" | relative_url }}"></script>
    <script>
        // Enhanced search functionality
        class DocumentationSearch {
            constructor() {
                this.searchIndex = [];
                this.recentSearches = [];
                this.currentFilter = 'all';
                this.buildSearchIndex();
                this.loadRecentSearches();
                this.bindEvents();
            }

            buildSearchIndex() {
                // Mock search index - in real implementation, this would be built from actual content
                this.searchIndex = [
                    {
                        id: 1,
                        title: 'Installation Guide',
                        description: 'Complete step-by-step installation instructions for setting up the AI Documentation Framework on various platforms.',
                        content: 'installation setup guide quick start getting started prerequisites system requirements',
                        url: 'pages/guides/installation.html',
                        category: 'guides',
                        relevance: 0.9,
                        tags: ['installation', 'setup', 'guide', 'getting-started']
                    },
                    {
                        id: 2,
                        title: 'Usage Guide',
                        description: 'Learn how to effectively use the framework with AI assistants and understand the task execution workflow.',
                        content: 'usage guide workflow task execution AI assistant navigation documentation',
                        url: 'pages/guides/usage.html',
                        category: 'guides',
                        relevance: 0.8,
                        tags: ['usage', 'guide', 'workflow', 'AI']
                    },
                    {
                        id: 3,
                        title: 'Single Application Example',
                        description: 'Comprehensive example showing how to implement the framework for a single React application with TaskFlow.',
                        content: 'single application example react taskflow implementation guide',
                        url: 'pages/examples/single-app.html',
                        category: 'examples',
                        relevance: 0.9,
                        tags: ['single-app', 'example', 'react', 'taskflow']
                    },
                    {
                        id: 4,
                        title: 'Multi-Application Example',
                        description: 'Complex example demonstrating the framework with microservices architecture and multiple applications.',
                        content: 'multi application microservices architecture example e-commerce platform',
                        url: 'pages/examples/multi-app.html',
                        category: 'examples',
                        relevance: 0.9,
                        tags: ['multi-app', 'microservices', 'architecture']
                    },
                    {
                        id: 5,
                        title: 'API Reference',
                        description: 'Complete API reference with endpoints, parameters, and examples for framework integration.',
                        content: 'api reference endpoints documentation integration rest api',
                        url: 'pages/advanced/features.html',
                        category: 'api',
                        relevance: 0.8,
                        tags: ['api', 'reference', 'endpoints', 'integration']
                    },
                    {
                        id: 6,
                        title: 'Troubleshooting Guide',
                        description: 'Comprehensive troubleshooting guide with common issues, solutions, and diagnostic tools.',
                        content: 'troubleshooting problems issues solutions errors debugging diagnostics',
                        url: 'pages/troubleshooting/index.html',
                        category: 'troubleshooting',
                        relevance: 0.9,
                        tags: ['troubleshooting', 'issues', 'solutions', 'errors']
                    },
                    {
                        id: 7,
                        title: 'Visual Components',
                        description: 'Interactive visual components including architecture diagrams, flowcharts, and data visualizations.',
                        content: 'visual components diagrams flowcharts architecture interactive demos',
                        url: 'pages/visual-components/diagrams.html',
                        category: 'visual',
                        relevance: 0.7,
                        tags: ['visual', 'diagrams', 'flowcharts', 'architecture']
                    },
                    {
                        id: 8,
                        title: 'Configuration Guide',
                        description: 'Detailed configuration options for customizing the framework behavior and integrating with different environments.',
                        content: 'configuration setup customization environment variables templates',
                        url: 'pages/guides/configuration.html',
                        category: 'guides',
                        relevance: 0.8,
                        tags: ['configuration', 'setup', 'customization']
                    },
                    {
                        id: 9,
                        title: 'Architecture Overview',
                        description: 'Deep dive into the framework architecture, components, and design principles.',
                        content: 'architecture overview design principles components layers system',
                        url: 'pages/core/architecture.html',
                        category: 'guides',
                        relevance: 0.8,
                        tags: ['architecture', 'design', 'components']
                    },
                    {
                        id: 10,
                        title: 'Core Features',
                        description: 'Explore the core features including AI optimization, error management, and automated workflows.',
                        content: 'core features AI optimization error management issue tracking automation',
                        url: 'pages/core/features.html',
                        category: 'guides',
                        relevance: 0.8,
                        tags: ['features', 'AI', 'optimization', 'error-management']
                    }
                ];
            }

            bindEvents() {
                const searchInput = document.getElementById('searchInput');
                const filterBtns = document.querySelectorAll('.filter-btn');

                // Search input events
                searchInput.addEventListener('input', (e) => {
                    this.debounceSearch(e.target.value);
                });

                searchInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        this.performSearch(searchInput.value);
                    } else if (e.key === 'Escape') {
                        this.clearSearch();
                    }
                });

                // Filter button events
                filterBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        filterBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.currentFilter = btn.dataset.filter;
                        if (searchInput.value.trim()) {
                            this.performSearch(searchInput.value);
                        }
                    });
                });

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                        e.preventDefault();
                        searchInput.focus();
                    }
                });
            }

            debounceSearch(query) {
                clearTimeout(this.searchTimeout);
                this.searchTimeout = setTimeout(() => {
                    if (query.trim().length >= 2) {
                        this.performSearch(query);
                    } else {
                        this.showInitialState();
                    }
                }, 300);
            }

            performSearch(query) {
                const startTime = performance.now();
                const results = this.search(query);
                const searchTime = Math.round(performance.now() - startTime);

                this.displayResults(results, query, searchTime);
                this.addToRecentSearches(query);
                this.updateAnalytics(results, searchTime);
            }

            search(query) {
                const terms = query.toLowerCase().split(' ').filter(term => term.length > 0);
                let results = this.searchIndex;

                // Filter by category if not 'all'
                if (this.currentFilter !== 'all') {
                    results = results.filter(item => item.category === this.currentFilter);
                }

                // Score and sort results
                const scoredResults = results.map(item => {
                    const score = this.calculateRelevanceScore(item, terms);
                    return { ...item, score };
                }).filter(item => item.score > 0)
                .sort((a, b) => b.score - a.score);

                return scoredResults;
            }

            calculateRelevanceScore(item, terms) {
                let score = 0;
                const title = item.title.toLowerCase();
                const description = item.description.toLowerCase();
                const content = item.content.toLowerCase();
                const tags = item.tags.join(' ').toLowerCase();

                terms.forEach(term => {
                    // Title matches have highest weight
                    if (title.includes(term)) {
                        score += 10;
                    }
                    // Tag matches are very relevant
                    if (tags.includes(term)) {
                        score += 8;
                    }
                    // Description matches
                    if (description.includes(term)) {
                        score += 5;
                    }
                    // Content matches
                    if (content.includes(term)) {
                        score += 3;
                    }
                });

                // Boost exact phrase matches
                const query = terms.join(' ');
                if (title.includes(query)) score += 15;
                if (description.includes(query)) score += 10;
                if (content.includes(query)) score += 5;

                return score;
            }

            displayResults(results, query, searchTime) {
                const resultsContainer = document.getElementById('searchResults');
                const loadingSpinner = document.getElementById('loadingSpinner');

                loadingSpinner.style.display = 'none';

                if (results.length === 0) {
                    resultsContainer.innerHTML = `
                        <div class="no-results">
                            <div class="no-results-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3>No results found</h3>
                            <p>Try different keywords or check your spelling. You can also use the filter buttons to narrow your search.</p>
                        </div>
                    `;
                    return;
                }

                const resultsHtml = results.map(result => this.generateResultHtml(result, query)).join('');
                resultsContainer.innerHTML = resultsHtml;
            }

            generateResultHtml(result, query) {
                const highlights = this.extractHighlights(result, query);
                const categoryColors = {
                    'guides': '#10b981',
                    'examples': '#3b82f6',
                    'api': '#8b5cf6',
                    'troubleshooting': '#ef4444',
                    'visual': '#f59e0b'
                };

                return `
                    <div class="search-result-item" onclick="window.location.href='${result.url}'">
                        <div class="result-header">
                            <div class="result-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <h3 class="result-title">${this.highlightText(result.title, query)}</h3>
                        </div>
                        <div class="result-meta">
                            <span class="result-category" style="background: ${categoryColors[result.category]}20; color: ${categoryColors[result.category]}">
                                ${result.category}
                            </span>
                            <span class="result-relevance">Relevance: ${Math.round(result.score)}%</span>
                        </div>
                        <p class="result-description">${this.highlightText(result.description, query)}</p>
                        ${highlights.length > 0 ? `
                            <div class="result-highlights">
                                ${highlights.map(highlight => `<span class="highlight">${highlight}</span>`).join('')}
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            highlightText(text, query) {
                const terms = query.toLowerCase().split(' ');
                let highlightedText = text;

                terms.forEach(term => {
                    const regex = new RegExp(`(${this.escapeRegex(term)})`, 'gi');
                    highlightedText = highlightedText.replace(regex, '<mark>$1</mark>');
                });

                return highlightedText;
            }

            extractHighlights(result, query) {
                const terms = query.toLowerCase().split(' ');
                const highlights = [];

                terms.forEach(term => {
                    if (result.tags.some(tag => tag.toLowerCase().includes(term))) {
                        highlights.push(term);
                    }
                });

                return [...new Set(highlights)];
            }

            escapeRegex(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }

            showInitialState() {
                const resultsContainer = document.getElementById('searchResults');
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Start typing to search</h3>
                        <p>Enter your search query above to find relevant documentation, guides, and examples.</p>
                    </div>
                `;
                document.getElementById('searchAnalytics').style.display = 'none';
            }

            clearSearch() {
                document.getElementById('searchInput').value = '';
                this.showInitialState();
            }

            addToRecentSearches(query) {
                if (query.trim().length < 2) return;

                this.recentSearches = this.recentSearches.filter(search => search !== query);
                this.recentSearches.unshift(query);
                this.recentSearches = this.recentSearches.slice(0, 10); // Keep only last 10

                localStorage.setItem('recentSearches', JSON.stringify(this.recentSearches));
                this.updateRecentSearchesDisplay();
            }

            loadRecentSearches() {
                const saved = localStorage.getItem('recentSearches');
                if (saved) {
                    this.recentSearches = JSON.parse(saved);
                    this.updateRecentSearchesDisplay();
                }
            }

            updateRecentSearchesDisplay() {
                const container = document.getElementById('recentSearches');
                if (this.recentSearches.length === 0) {
                    container.innerHTML = '<span style="color: var(--text-secondary);">No recent searches</span>';
                    return;
                }

                container.innerHTML = this.recentSearches.map(search =>
                    `<span class="recent-tag" onclick="searchTerm('${search}')">${search}</span>`
                ).join('');
            }

            updateAnalytics(results, searchTime) {
                const analytics = document.getElementById('searchAnalytics');
                const totalResults = document.getElementById('totalResults');
                const searchTimeEl = document.getElementById('searchTime');
                const relevanceScore = document.getElementById('relevanceScore');
                const categoriesFound = document.getElementById('categoriesFound');

                totalResults.textContent = results.length;
                searchTimeEl.textContent = `${searchTime}ms`;

                if (results.length > 0) {
                    const avgRelevance = results.reduce((sum, result) => sum + result.score, 0) / results.length;
                    relevanceScore.textContent = `${Math.round(avgRelevance)}%`;

                    const categories = [...new Set(results.map(r => r.category))];
                    categoriesFound.textContent = categories.length;
                } else {
                    relevanceScore.textContent = '0%';
                    categoriesFound.textContent = '0';
                }

                analytics.style.display = 'block';
            }
        }

        // Global functions
        function searchTerm(term) {
            document.getElementById('searchInput').value = term;
            window.searchInstance.performSearch(term);
        }

        // Initialize search when page loads
        document.addEventListener('DOMContentLoaded', function() {
            window.searchInstance = new DocumentationSearch();
        });
    </script>
</body>
</html>
